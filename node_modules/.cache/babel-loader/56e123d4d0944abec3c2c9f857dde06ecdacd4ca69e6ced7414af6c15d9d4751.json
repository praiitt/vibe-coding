{"ast":null,"code":"export function loadRazorpay(src = 'https://checkout.razorpay.com/v1/checkout.js') {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\n      resolve(true);\n      return;\n    }\n    const script = document.createElement('script');\n    script.src = src;\n    script.onload = () => resolve(true);\n    script.onerror = () => reject(new Error('Failed to load Razorpay'));\n    document.body.appendChild(script);\n  });\n}\nexport async function openRazorpayCheckout({\n  name,\n  email,\n  phone,\n  amount = 99,\n  onSuccess,\n  onFailure\n}) {\n  const loaded = await loadRazorpay();\n  if (!loaded) throw new Error('Razorpay SDK failed to load');\n  const options = {\n    key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n    amount: amount * 100,\n    // in paise\n    currency: 'INR',\n    name: 'Vibe Coding Webinar',\n    description: 'Registration Fee',\n    image: '/favicon.ico',\n    handler: function (response) {\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(response);\n    },\n    prefill: {\n      name,\n      email,\n      contact: phone\n    },\n    notes: {\n      purpose: 'Webinar Registration',\n      webinarDate: '2024-09-22'\n    },\n    theme: {\n      color: '#667eea'\n    }\n  };\n  const rzp = new window.Razorpay(options);\n  rzp.on('payment.failed', function (response) {\n    onFailure === null || onFailure === void 0 ? void 0 : onFailure(response.error);\n  });\n  rzp.open();\n}","map":{"version":3,"names":["loadRazorpay","src","Promise","resolve","reject","document","querySelector","script","createElement","onload","onerror","Error","body","appendChild","openRazorpayCheckout","name","email","phone","amount","onSuccess","onFailure","loaded","options","key","process","env","REACT_APP_RAZORPAY_KEY_ID","currency","description","image","handler","response","prefill","contact","notes","purpose","webinarDate","theme","color","rzp","window","Razorpay","on","error","open"],"sources":["/Users/prakash/Documents/vibe-coding/src/services/razorpay.js"],"sourcesContent":["export function loadRazorpay(src = 'https://checkout.razorpay.com/v1/checkout.js') {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\n      resolve(true);\n      return;\n    }\n    const script = document.createElement('script');\n    script.src = src;\n    script.onload = () => resolve(true);\n    script.onerror = () => reject(new Error('Failed to load Razorpay'));\n    document.body.appendChild(script);\n  });\n}\n\nexport async function openRazorpayCheckout({ name, email, phone, amount = 99, onSuccess, onFailure }) {\n  const loaded = await loadRazorpay();\n  if (!loaded) throw new Error('Razorpay SDK failed to load');\n\n  const options = {\n    key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n    amount: amount * 100, // in paise\n    currency: 'INR',\n    name: 'Vibe Coding Webinar',\n    description: 'Registration Fee',\n    image: '/favicon.ico',\n    handler: function (response) {\n      onSuccess?.(response);\n    },\n    prefill: {\n      name,\n      email,\n      contact: phone,\n    },\n    notes: {\n      purpose: 'Webinar Registration',\n      webinarDate: '2024-09-22',\n    },\n    theme: {\n      color: '#667eea',\n    },\n  };\n\n  const rzp = new window.Razorpay(options);\n  rzp.on('payment.failed', function (response) {\n    onFailure?.(response.error);\n  });\n  rzp.open();\n}\n"],"mappings":"AAAA,OAAO,SAASA,YAAYA,CAACC,GAAG,GAAG,8CAA8C,EAAE;EACjF,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAIC,QAAQ,CAACC,aAAa,CAAC,eAAeL,GAAG,IAAI,CAAC,EAAE;MAClDE,OAAO,CAAC,IAAI,CAAC;MACb;IACF;IACA,MAAMI,MAAM,GAAGF,QAAQ,CAACG,aAAa,CAAC,QAAQ,CAAC;IAC/CD,MAAM,CAACN,GAAG,GAAGA,GAAG;IAChBM,MAAM,CAACE,MAAM,GAAG,MAAMN,OAAO,CAAC,IAAI,CAAC;IACnCI,MAAM,CAACG,OAAO,GAAG,MAAMN,MAAM,CAAC,IAAIO,KAAK,CAAC,yBAAyB,CAAC,CAAC;IACnEN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;EACnC,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeO,oBAAoBA,CAAC;EAAEC,IAAI;EAAEC,KAAK;EAAEC,KAAK;EAAEC,MAAM,GAAG,EAAE;EAAEC,SAAS;EAAEC;AAAU,CAAC,EAAE;EACpG,MAAMC,MAAM,GAAG,MAAMrB,YAAY,CAAC,CAAC;EACnC,IAAI,CAACqB,MAAM,EAAE,MAAM,IAAIV,KAAK,CAAC,6BAA6B,CAAC;EAE3D,MAAMW,OAAO,GAAG;IACdC,GAAG,EAAEC,OAAO,CAACC,GAAG,CAACC,yBAAyB;IAC1CR,MAAM,EAAEA,MAAM,GAAG,GAAG;IAAE;IACtBS,QAAQ,EAAE,KAAK;IACfZ,IAAI,EAAE,qBAAqB;IAC3Ba,WAAW,EAAE,kBAAkB;IAC/BC,KAAK,EAAE,cAAc;IACrBC,OAAO,EAAE,SAAAA,CAAUC,QAAQ,EAAE;MAC3BZ,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAGY,QAAQ,CAAC;IACvB,CAAC;IACDC,OAAO,EAAE;MACPjB,IAAI;MACJC,KAAK;MACLiB,OAAO,EAAEhB;IACX,CAAC;IACDiB,KAAK,EAAE;MACLC,OAAO,EAAE,sBAAsB;MAC/BC,WAAW,EAAE;IACf,CAAC;IACDC,KAAK,EAAE;MACLC,KAAK,EAAE;IACT;EACF,CAAC;EAED,MAAMC,GAAG,GAAG,IAAIC,MAAM,CAACC,QAAQ,CAACnB,OAAO,CAAC;EACxCiB,GAAG,CAACG,EAAE,CAAC,gBAAgB,EAAE,UAAUX,QAAQ,EAAE;IAC3CX,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAGW,QAAQ,CAACY,KAAK,CAAC;EAC7B,CAAC,CAAC;EACFJ,GAAG,CAACK,IAAI,CAAC,CAAC;AACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}