{"ast":null,"code":"export function loadRazorpay(){let src=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'https://checkout.razorpay.com/v1/checkout.js';return new Promise((resolve,reject)=>{if(document.querySelector(`script[src=\"${src}\"]`)){resolve(true);return;}const script=document.createElement('script');script.src=src;script.onload=()=>resolve(true);script.onerror=()=>reject(new Error('Failed to load Razorpay'));document.body.appendChild(script);});}export async function openRazorpayCheckout(_ref){let{name,email,phone,amount=99,onSuccess,onFailure}=_ref;const loaded=await loadRazorpay();if(!loaded)throw new Error('Razorpay SDK failed to load');const options={key:process.env.REACT_APP_RAZORPAY_KEY_ID,amount:amount*100,// in paise\ncurrency:'INR',name:'Vibe Coding Webinar',description:'Registration Fee',image:'/favicon.ico',handler:function(response){onSuccess===null||onSuccess===void 0?void 0:onSuccess(response);},prefill:{name,email,contact:phone},notes:{purpose:'Webinar Registration',webinarDate:'2024-09-22'},theme:{color:'#667eea'}};const rzp=new window.Razorpay(options);rzp.on('payment.failed',function(response){onFailure===null||onFailure===void 0?void 0:onFailure(response.error);});rzp.open();}","map":{"version":3,"names":["loadRazorpay","src","arguments","length","undefined","Promise","resolve","reject","document","querySelector","script","createElement","onload","onerror","Error","body","appendChild","openRazorpayCheckout","_ref","name","email","phone","amount","onSuccess","onFailure","loaded","options","key","process","env","REACT_APP_RAZORPAY_KEY_ID","currency","description","image","handler","response","prefill","contact","notes","purpose","webinarDate","theme","color","rzp","window","Razorpay","on","error","open"],"sources":["/Users/prakash/Documents/vibe-coding/src/services/razorpay.js"],"sourcesContent":["export function loadRazorpay(src = 'https://checkout.razorpay.com/v1/checkout.js') {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\n      resolve(true);\n      return;\n    }\n    const script = document.createElement('script');\n    script.src = src;\n    script.onload = () => resolve(true);\n    script.onerror = () => reject(new Error('Failed to load Razorpay'));\n    document.body.appendChild(script);\n  });\n}\n\nexport async function openRazorpayCheckout({ name, email, phone, amount = 99, onSuccess, onFailure }) {\n  const loaded = await loadRazorpay();\n  if (!loaded) throw new Error('Razorpay SDK failed to load');\n\n  const options = {\n    key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n    amount: amount * 100, // in paise\n    currency: 'INR',\n    name: 'Vibe Coding Webinar',\n    description: 'Registration Fee',\n    image: '/favicon.ico',\n    handler: function (response) {\n      onSuccess?.(response);\n    },\n    prefill: {\n      name,\n      email,\n      contact: phone,\n    },\n    notes: {\n      purpose: 'Webinar Registration',\n      webinarDate: '2024-09-22',\n    },\n    theme: {\n      color: '#667eea',\n    },\n  };\n\n  const rzp = new window.Razorpay(options);\n  rzp.on('payment.failed', function (response) {\n    onFailure?.(response.error);\n  });\n  rzp.open();\n}\n"],"mappings":"AAAA,MAAO,SAAS,CAAAA,YAAYA,CAAA,CAAuD,IAAtD,CAAAC,GAAG,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,8CAA8C,CAC/E,MAAO,IAAI,CAAAG,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACtC,GAAIC,QAAQ,CAACC,aAAa,CAAC,eAAeR,GAAG,IAAI,CAAC,CAAE,CAClDK,OAAO,CAAC,IAAI,CAAC,CACb,OACF,CACA,KAAM,CAAAI,MAAM,CAAGF,QAAQ,CAACG,aAAa,CAAC,QAAQ,CAAC,CAC/CD,MAAM,CAACT,GAAG,CAAGA,GAAG,CAChBS,MAAM,CAACE,MAAM,CAAG,IAAMN,OAAO,CAAC,IAAI,CAAC,CACnCI,MAAM,CAACG,OAAO,CAAG,IAAMN,MAAM,CAAC,GAAI,CAAAO,KAAK,CAAC,yBAAyB,CAAC,CAAC,CACnEN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC,CACnC,CAAC,CAAC,CACJ,CAEA,MAAO,eAAe,CAAAO,oBAAoBA,CAAAC,IAAA,CAA4D,IAA3D,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAG,EAAE,CAAEC,SAAS,CAAEC,SAAU,CAAC,CAAAN,IAAA,CAClG,KAAM,CAAAO,MAAM,CAAG,KAAM,CAAAzB,YAAY,CAAC,CAAC,CACnC,GAAI,CAACyB,MAAM,CAAE,KAAM,IAAI,CAAAX,KAAK,CAAC,6BAA6B,CAAC,CAE3D,KAAM,CAAAY,OAAO,CAAG,CACdC,GAAG,CAAEC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CAC1CR,MAAM,CAAEA,MAAM,CAAG,GAAG,CAAE;AACtBS,QAAQ,CAAE,KAAK,CACfZ,IAAI,CAAE,qBAAqB,CAC3Ba,WAAW,CAAE,kBAAkB,CAC/BC,KAAK,CAAE,cAAc,CACrBC,OAAO,CAAE,QAAAA,CAAUC,QAAQ,CAAE,CAC3BZ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAGY,QAAQ,CAAC,CACvB,CAAC,CACDC,OAAO,CAAE,CACPjB,IAAI,CACJC,KAAK,CACLiB,OAAO,CAAEhB,KACX,CAAC,CACDiB,KAAK,CAAE,CACLC,OAAO,CAAE,sBAAsB,CAC/BC,WAAW,CAAE,YACf,CAAC,CACDC,KAAK,CAAE,CACLC,KAAK,CAAE,SACT,CACF,CAAC,CAED,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,MAAM,CAACC,QAAQ,CAACnB,OAAO,CAAC,CACxCiB,GAAG,CAACG,EAAE,CAAC,gBAAgB,CAAE,SAAUX,QAAQ,CAAE,CAC3CX,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAGW,QAAQ,CAACY,KAAK,CAAC,CAC7B,CAAC,CAAC,CACFJ,GAAG,CAACK,IAAI,CAAC,CAAC,CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}