{"ast":null,"code":"import { collection, addDoc, doc, updateDoc, getDocs, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from './firebase';\nconst WEBINAR_COLLECTION = 'webinar_registrations';\nexport async function createWebinarRegistration({\n  name,\n  email,\n  phone,\n  amount,\n  currency = 'INR'\n}) {\n  const ref = await addDoc(collection(db, WEBINAR_COLLECTION), {\n    name,\n    email,\n    phone,\n    amount,\n    currency,\n    status: 'initiated',\n    createdAt: serverTimestamp(),\n    updatedAt: serverTimestamp(),\n    webinarDate: '2024-09-22'\n  });\n  return {\n    id: ref.id\n  };\n}\nexport async function updateRegistrationPayment(id, {\n  status,\n  razorpayPaymentId,\n  razorpayOrderId,\n  razorpaySignature\n}) {\n  const registrationRef = doc(db, WEBINAR_COLLECTION, id);\n  await updateDoc(registrationRef, {\n    status,\n    razorpayPaymentId: razorpayPaymentId || null,\n    razorpayOrderId: razorpayOrderId || null,\n    razorpaySignature: razorpaySignature || null,\n    updatedAt: serverTimestamp()\n  });\n}\nexport async function findRegistrationByEmail(email) {\n  const q = query(collection(db, WEBINAR_COLLECTION), where('email', '==', email));\n  const snap = await getDocs(q);\n  if (snap.empty) return null;\n  const d = snap.docs[0];\n  return {\n    id: d.id,\n    ...d.data()\n  };\n}","map":{"version":3,"names":["collection","addDoc","doc","updateDoc","getDocs","query","where","serverTimestamp","db","WEBINAR_COLLECTION","createWebinarRegistration","name","email","phone","amount","currency","ref","status","createdAt","updatedAt","webinarDate","id","updateRegistrationPayment","razorpayPaymentId","razorpayOrderId","razorpaySignature","registrationRef","findRegistrationByEmail","q","snap","empty","d","docs","data"],"sources":["/Users/prakash/Documents/vibe-coding/src/services/webinar.js"],"sourcesContent":["import { collection, addDoc, doc, updateDoc, getDocs, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from './firebase';\n\nconst WEBINAR_COLLECTION = 'webinar_registrations';\n\nexport async function createWebinarRegistration({ name, email, phone, amount, currency = 'INR' }) {\n  const ref = await addDoc(collection(db, WEBINAR_COLLECTION), {\n    name,\n    email,\n    phone,\n    amount,\n    currency,\n    status: 'initiated',\n    createdAt: serverTimestamp(),\n    updatedAt: serverTimestamp(),\n    webinarDate: '2024-09-22',\n  });\n  return { id: ref.id };\n}\n\nexport async function updateRegistrationPayment(id, { status, razorpayPaymentId, razorpayOrderId, razorpaySignature }) {\n  const registrationRef = doc(db, WEBINAR_COLLECTION, id);\n  await updateDoc(registrationRef, {\n    status,\n    razorpayPaymentId: razorpayPaymentId || null,\n    razorpayOrderId: razorpayOrderId || null,\n    razorpaySignature: razorpaySignature || null,\n    updatedAt: serverTimestamp(),\n  });\n}\n\nexport async function findRegistrationByEmail(email) {\n  const q = query(collection(db, WEBINAR_COLLECTION), where('email', '==', email));\n  const snap = await getDocs(q);\n  if (snap.empty) return null;\n  const d = snap.docs[0];\n  return { id: d.id, ...d.data() };\n}\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,SAAS,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,eAAe,QAAQ,oBAAoB;AAC/G,SAASC,EAAE,QAAQ,YAAY;AAE/B,MAAMC,kBAAkB,GAAG,uBAAuB;AAElD,OAAO,eAAeC,yBAAyBA,CAAC;EAAEC,IAAI;EAAEC,KAAK;EAAEC,KAAK;EAAEC,MAAM;EAAEC,QAAQ,GAAG;AAAM,CAAC,EAAE;EAChG,MAAMC,GAAG,GAAG,MAAMf,MAAM,CAACD,UAAU,CAACQ,EAAE,EAAEC,kBAAkB,CAAC,EAAE;IAC3DE,IAAI;IACJC,KAAK;IACLC,KAAK;IACLC,MAAM;IACNC,QAAQ;IACRE,MAAM,EAAE,WAAW;IACnBC,SAAS,EAAEX,eAAe,CAAC,CAAC;IAC5BY,SAAS,EAAEZ,eAAe,CAAC,CAAC;IAC5Ba,WAAW,EAAE;EACf,CAAC,CAAC;EACF,OAAO;IAAEC,EAAE,EAAEL,GAAG,CAACK;EAAG,CAAC;AACvB;AAEA,OAAO,eAAeC,yBAAyBA,CAACD,EAAE,EAAE;EAAEJ,MAAM;EAAEM,iBAAiB;EAAEC,eAAe;EAAEC;AAAkB,CAAC,EAAE;EACrH,MAAMC,eAAe,GAAGxB,GAAG,CAACM,EAAE,EAAEC,kBAAkB,EAAEY,EAAE,CAAC;EACvD,MAAMlB,SAAS,CAACuB,eAAe,EAAE;IAC/BT,MAAM;IACNM,iBAAiB,EAAEA,iBAAiB,IAAI,IAAI;IAC5CC,eAAe,EAAEA,eAAe,IAAI,IAAI;IACxCC,iBAAiB,EAAEA,iBAAiB,IAAI,IAAI;IAC5CN,SAAS,EAAEZ,eAAe,CAAC;EAC7B,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeoB,uBAAuBA,CAACf,KAAK,EAAE;EACnD,MAAMgB,CAAC,GAAGvB,KAAK,CAACL,UAAU,CAACQ,EAAE,EAAEC,kBAAkB,CAAC,EAAEH,KAAK,CAAC,OAAO,EAAE,IAAI,EAAEM,KAAK,CAAC,CAAC;EAChF,MAAMiB,IAAI,GAAG,MAAMzB,OAAO,CAACwB,CAAC,CAAC;EAC7B,IAAIC,IAAI,CAACC,KAAK,EAAE,OAAO,IAAI;EAC3B,MAAMC,CAAC,GAAGF,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC;EACtB,OAAO;IAAEX,EAAE,EAAEU,CAAC,CAACV,EAAE;IAAE,GAAGU,CAAC,CAACE,IAAI,CAAC;EAAE,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}