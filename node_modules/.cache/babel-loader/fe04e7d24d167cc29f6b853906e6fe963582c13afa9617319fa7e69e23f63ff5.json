{"ast":null,"code":"import{collection,addDoc,serverTimestamp}from'firebase/firestore';import{db}from'./firebase';const EVENTS_COLLECTION='analytics_events';class AnalyticsService{async addEvent(_ref){let{type,label,meta={},userId=null}=_ref;try{await addDoc(collection(db,EVENTS_COLLECTION),{type,label,meta,userId,createdAt:serverTimestamp(),source:'web'});}catch(e){// Non-blocking\nconsole.warn('analytics addEvent failed',e);}}async trackEvent(eventName){let eventData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{await addDoc(collection(db,EVENTS_COLLECTION),{eventName,eventData,timestamp:serverTimestamp(),source:'web',url:window.location.href,userAgent:navigator.userAgent});}catch(e){// Non-blocking\nconsole.warn('analytics trackEvent failed',e);}}}export const analyticsService=new AnalyticsService();// Legacy export for backward compatibility\nexport async function addEvent(_ref2){let{type,label,meta={},userId=null}=_ref2;return analyticsService.addEvent({type,label,meta,userId});}","map":{"version":3,"names":["collection","addDoc","serverTimestamp","db","EVENTS_COLLECTION","AnalyticsService","addEvent","_ref","type","label","meta","userId","createdAt","source","e","console","warn","trackEvent","eventName","eventData","arguments","length","undefined","timestamp","url","window","location","href","userAgent","navigator","analyticsService","_ref2"],"sources":["/Users/prakash/Documents/vibe-coding/src/services/analytics.js"],"sourcesContent":["import { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { db } from './firebase';\n\nconst EVENTS_COLLECTION = 'analytics_events';\n\nclass AnalyticsService {\n  async addEvent({ type, label, meta = {}, userId = null }) {\n    try {\n      await addDoc(collection(db, EVENTS_COLLECTION), {\n        type,\n        label,\n        meta,\n        userId,\n        createdAt: serverTimestamp(),\n        source: 'web',\n      });\n    } catch (e) {\n      // Non-blocking\n      console.warn('analytics addEvent failed', e);\n    }\n  }\n\n  async trackEvent(eventName, eventData = {}) {\n    try {\n      await addDoc(collection(db, EVENTS_COLLECTION), {\n        eventName,\n        eventData,\n        timestamp: serverTimestamp(),\n        source: 'web',\n        url: window.location.href,\n        userAgent: navigator.userAgent\n      });\n    } catch (e) {\n      // Non-blocking\n      console.warn('analytics trackEvent failed', e);\n    }\n  }\n}\n\nexport const analyticsService = new AnalyticsService();\n\n// Legacy export for backward compatibility\nexport async function addEvent({ type, label, meta = {}, userId = null }) {\n  return analyticsService.addEvent({ type, label, meta, userId });\n}\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,MAAM,CAAEC,eAAe,KAAQ,oBAAoB,CACxE,OAASC,EAAE,KAAQ,YAAY,CAE/B,KAAM,CAAAC,iBAAiB,CAAG,kBAAkB,CAE5C,KAAM,CAAAC,gBAAiB,CACrB,KAAM,CAAAC,QAAQA,CAAAC,IAAA,CAA4C,IAA3C,CAAEC,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAG,CAAC,CAAC,CAAEC,MAAM,CAAG,IAAK,CAAC,CAAAJ,IAAA,CACtD,GAAI,CACF,KAAM,CAAAN,MAAM,CAACD,UAAU,CAACG,EAAE,CAAEC,iBAAiB,CAAC,CAAE,CAC9CI,IAAI,CACJC,KAAK,CACLC,IAAI,CACJC,MAAM,CACNC,SAAS,CAAEV,eAAe,CAAC,CAAC,CAC5BW,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAAE,MAAOC,CAAC,CAAE,CACV;AACAC,OAAO,CAACC,IAAI,CAAC,2BAA2B,CAAEF,CAAC,CAAC,CAC9C,CACF,CAEA,KAAM,CAAAG,UAAUA,CAACC,SAAS,CAAkB,IAAhB,CAAAC,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACxC,GAAI,CACF,KAAM,CAAAnB,MAAM,CAACD,UAAU,CAACG,EAAE,CAAEC,iBAAiB,CAAC,CAAE,CAC9Cc,SAAS,CACTC,SAAS,CACTI,SAAS,CAAErB,eAAe,CAAC,CAAC,CAC5BW,MAAM,CAAE,KAAK,CACbW,GAAG,CAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI,CACzBC,SAAS,CAAEC,SAAS,CAACD,SACvB,CAAC,CAAC,CACJ,CAAE,MAAOd,CAAC,CAAE,CACV;AACAC,OAAO,CAACC,IAAI,CAAC,6BAA6B,CAAEF,CAAC,CAAC,CAChD,CACF,CACF,CAEA,MAAO,MAAM,CAAAgB,gBAAgB,CAAG,GAAI,CAAAzB,gBAAgB,CAAC,CAAC,CAEtD;AACA,MAAO,eAAe,CAAAC,QAAQA,CAAAyB,KAAA,CAA4C,IAA3C,CAAEvB,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAG,CAAC,CAAC,CAAEC,MAAM,CAAG,IAAK,CAAC,CAAAoB,KAAA,CACtE,MAAO,CAAAD,gBAAgB,CAACxB,QAAQ,CAAC,CAAEE,IAAI,CAAEC,KAAK,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAC,CACjE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}