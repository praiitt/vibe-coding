{"ast":null,"code":"import{collection,addDoc,doc,updateDoc,getDocs,query,where,serverTimestamp}from'firebase/firestore';import{db}from'./firebase';const WEBINAR_COLLECTION='webinar_registrations';export async function createWebinarRegistration(_ref){let{name,email,phone,amount,currency='INR'}=_ref;const ref=await addDoc(collection(db,WEBINAR_COLLECTION),{name,email,phone,amount,currency,status:'initiated',createdAt:serverTimestamp(),updatedAt:serverTimestamp(),webinarDate:'2024-09-22'});return{id:ref.id};}export async function updateRegistrationPayment(id,_ref2){let{status,razorpayPaymentId,razorpayOrderId,razorpaySignature}=_ref2;const registrationRef=doc(db,WEBINAR_COLLECTION,id);await updateDoc(registrationRef,{status,razorpayPaymentId:razorpayPaymentId||null,razorpayOrderId:razorpayOrderId||null,razorpaySignature:razorpaySignature||null,updatedAt:serverTimestamp()});}export async function findRegistrationByEmail(email){const q=query(collection(db,WEBINAR_COLLECTION),where('email','==',email));const snap=await getDocs(q);if(snap.empty)return null;const d=snap.docs[0];return{id:d.id,...d.data()};}","map":{"version":3,"names":["collection","addDoc","doc","updateDoc","getDocs","query","where","serverTimestamp","db","WEBINAR_COLLECTION","createWebinarRegistration","_ref","name","email","phone","amount","currency","ref","status","createdAt","updatedAt","webinarDate","id","updateRegistrationPayment","_ref2","razorpayPaymentId","razorpayOrderId","razorpaySignature","registrationRef","findRegistrationByEmail","q","snap","empty","d","docs","data"],"sources":["/Users/prakash/Documents/vibe-coding/src/services/webinar.js"],"sourcesContent":["import { collection, addDoc, doc, updateDoc, getDocs, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from './firebase';\n\nconst WEBINAR_COLLECTION = 'webinar_registrations';\n\nexport async function createWebinarRegistration({ name, email, phone, amount, currency = 'INR' }) {\n  const ref = await addDoc(collection(db, WEBINAR_COLLECTION), {\n    name,\n    email,\n    phone,\n    amount,\n    currency,\n    status: 'initiated',\n    createdAt: serverTimestamp(),\n    updatedAt: serverTimestamp(),\n    webinarDate: '2024-09-22',\n  });\n  return { id: ref.id };\n}\n\nexport async function updateRegistrationPayment(id, { status, razorpayPaymentId, razorpayOrderId, razorpaySignature }) {\n  const registrationRef = doc(db, WEBINAR_COLLECTION, id);\n  await updateDoc(registrationRef, {\n    status,\n    razorpayPaymentId: razorpayPaymentId || null,\n    razorpayOrderId: razorpayOrderId || null,\n    razorpaySignature: razorpaySignature || null,\n    updatedAt: serverTimestamp(),\n  });\n}\n\nexport async function findRegistrationByEmail(email) {\n  const q = query(collection(db, WEBINAR_COLLECTION), where('email', '==', email));\n  const snap = await getDocs(q);\n  if (snap.empty) return null;\n  const d = snap.docs[0];\n  return { id: d.id, ...d.data() };\n}\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,MAAM,CAAEC,GAAG,CAAEC,SAAS,CAAEC,OAAO,CAAEC,KAAK,CAAEC,KAAK,CAAEC,eAAe,KAAQ,oBAAoB,CAC/G,OAASC,EAAE,KAAQ,YAAY,CAE/B,KAAM,CAAAC,kBAAkB,CAAG,uBAAuB,CAElD,MAAO,eAAe,CAAAC,yBAAyBA,CAAAC,IAAA,CAAmD,IAAlD,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,CAAG,KAAM,CAAC,CAAAL,IAAA,CAC9F,KAAM,CAAAM,GAAG,CAAG,KAAM,CAAAhB,MAAM,CAACD,UAAU,CAACQ,EAAE,CAAEC,kBAAkB,CAAC,CAAE,CAC3DG,IAAI,CACJC,KAAK,CACLC,KAAK,CACLC,MAAM,CACNC,QAAQ,CACRE,MAAM,CAAE,WAAW,CACnBC,SAAS,CAAEZ,eAAe,CAAC,CAAC,CAC5Ba,SAAS,CAAEb,eAAe,CAAC,CAAC,CAC5Bc,WAAW,CAAE,YACf,CAAC,CAAC,CACF,MAAO,CAAEC,EAAE,CAAEL,GAAG,CAACK,EAAG,CAAC,CACvB,CAEA,MAAO,eAAe,CAAAC,yBAAyBA,CAACD,EAAE,CAAAE,KAAA,CAAqE,IAAnE,CAAEN,MAAM,CAAEO,iBAAiB,CAAEC,eAAe,CAAEC,iBAAkB,CAAC,CAAAH,KAAA,CACnH,KAAM,CAAAI,eAAe,CAAG1B,GAAG,CAACM,EAAE,CAAEC,kBAAkB,CAAEa,EAAE,CAAC,CACvD,KAAM,CAAAnB,SAAS,CAACyB,eAAe,CAAE,CAC/BV,MAAM,CACNO,iBAAiB,CAAEA,iBAAiB,EAAI,IAAI,CAC5CC,eAAe,CAAEA,eAAe,EAAI,IAAI,CACxCC,iBAAiB,CAAEA,iBAAiB,EAAI,IAAI,CAC5CP,SAAS,CAAEb,eAAe,CAAC,CAC7B,CAAC,CAAC,CACJ,CAEA,MAAO,eAAe,CAAAsB,uBAAuBA,CAAChB,KAAK,CAAE,CACnD,KAAM,CAAAiB,CAAC,CAAGzB,KAAK,CAACL,UAAU,CAACQ,EAAE,CAAEC,kBAAkB,CAAC,CAAEH,KAAK,CAAC,OAAO,CAAE,IAAI,CAAEO,KAAK,CAAC,CAAC,CAChF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAA3B,OAAO,CAAC0B,CAAC,CAAC,CAC7B,GAAIC,IAAI,CAACC,KAAK,CAAE,MAAO,KAAI,CAC3B,KAAM,CAAAC,CAAC,CAAGF,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CACtB,MAAO,CAAEZ,EAAE,CAAEW,CAAC,CAACX,EAAE,CAAE,GAAGW,CAAC,CAACE,IAAI,CAAC,CAAE,CAAC,CAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}